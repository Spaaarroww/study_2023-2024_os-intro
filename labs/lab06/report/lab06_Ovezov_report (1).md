**Лабораторная работа №6** 

**Операционные системы** 

Овезов Мерген 

Содержание 

[1  Цель работы ................................................................................................................................................................ 1 ](#_page0_x82.00_y331.00)[2  Задание .......................................................................................................................................................................... 1 ](#_page0_x82.00_y411.00)[3  Теоретическое введение ..................................................................................................................................... 2 ](#_page1_x82.00_y186.00)[4  Выполнение лабораторной работы ............................................................................................................. 2 ](#_page1_x82.00_y550.00)[5  Выводы .......................................................................................................................................................................... 8 ](#_page7_x82.00_y472.00)[6  Ответы на контрольные вопросы ................................................................................................................. 8 ](#_page7_x82.00_y552.00)

<a name="_page0_x82.00_y331.00"></a>**1  Цель работы** 

Приобретение практических навыков взаимодействия пользователя с системой по- средством командной строки. 

<a name="_page0_x82.00_y411.00"></a>**2  Задание** 

1. Определите полное имя домашнего каталога 
2. Выполните следующие действия: 2.1. Перейдите в каталог /tmp. 2.2. Вывести на экран содержимое каталога /tmp. 2.3. Определить, есть ли в каталоге /var/spool подкаталог с именем cron. 2.4. Перейти в домашний каталог и вывести на экран его содержимое. Опре- делить, кто является владельцем файлов и подкаталогов. 
3. Выполнить следующие действия: 

   В домашнем каталоге создать новый каталог с именем newdir. В каталоге ~/newdir создать новый каталог с именем morefun. В домашнем каталоге создать одной командой три новых каталога с именами letters, memos, misk. Затем удалить эти каталоги одной командой. Попробовать удалить ранее созданный каталог ~/newdir командой rm. Проверть, был ли каталог удалён. Удалить каталог ~/newdir/morefun из домашнего каталога. Проверить, был ли каталог удалён. 

4. С помощью команды man определить, какую опцию команды ls нужно использовать для просмотра содержимого не только указанного каталога, но и подкаталогов, входящих в него. 
5. С помощью команды man определить набор опций команды ls, позволяющий отсортировать по времени последнего изменения выводимый список содержимого каталога с развёрнутым описанием файлов. 
5. Использовать команду man для просмотра описания следующих команд: cd, pwd, mkdir, rmdir, rm. Поясните основные опции этих команд. 
5. Используя информацию, полученную при помощи команды history, выполнить модификацию и исполнение нескольких команд из буфера команд. 

<a name="_page1_x82.00_y186.00"></a>**3  Теоретическое введение** 

В операционной системе типа Linux взаимодействие пользователя с системой обычно осуществляется с помощью командной строки посредством построчного ввода команд. При этом обычно используется командные интерпретаторы языка shell: /bin/sh; /bin/csh; /bin/ksh. 

Командой в операционной системе называется записанный по специальным правилам текст (возможно с аргументами), представляющий собой указание на выполнение какой-либо функций (или действий) в операционной системе. Обычно первым словом идёт имя команды, остальной текст — аргументы или опции, конкретизирующие действие. 

Общий формат команд можно представить следующим образом:  Команда man. Команда man используется для просмотра (оперативная помощь) в диалоговом режиме руководства (manual) по основным командам операционной системы типа Linux. 

Формат команды: man  

Файловая система ОС типа Linux — иерархическая система каталогов, подкаталогов и файлов, которые обычно организованы и сгруппированы по функциональному признаку. Самый верхний каталог в иерархии называется корневым и обозначается символом /. Корневой каталог содержит системные файлы и другие каталоги. 

В работе с командами, в качестве аргументов которых выступает путь к какому-либо каталогу или файлу, можно использовать сокращённую запись пути. 

<a name="_page1_x82.00_y550.00"></a>**4  Выполнение лабораторной работы** 

Полное имя домашнего каталога можно узнать с помощью утилиты pwd (рис.1]). 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.001.png)

С помощью утилиты cd перехожу в подкаталог tmp корневого каталога (рис. 2) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.002.png)

С помощью утилиты ls, пока что без ключей, просматриваю содержимое каталога tmp (рис.3) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.003.jpeg)

Пробую использовать команду ls с разными опциями. Опция -l позволит увидеть дополнительную информацию о файлах в каталоге: время создания, владельца, права. (рис.4) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.004.jpeg)

Опция -а покажет скрытые файлы в каталоге(рис.5) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.005.jpeg)

Перехожу в каталог var/spool с помощью cd. Чтобы определить, есть ли в каталоге подкатолог с соответствующем именем, на самом деле, достаточно начать вводить какую-нибудь команду и имя файла и воспользоваться подсказкой tab, многие окружения рабочего стола обозначают файлы и каталоги разными цветами. Но на всякий случай воспользуемся утилитой ls с флагом -F, чтобы проверить, что мы найдем именно каталог. И да,в директории действительно есть такой каталог (рис.6) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.006.png)

Возвращаюсь в домашний каталог,для этого достаточно ввести команду cd. Затем проверяю содержимое каталога с помощью утилиты ls, опция -l позволяет определить владельцев файлов, опция -а показывает все содержимое каталога,-F поможет определить что из содержимого каталога файл, а что каталог. (рис.7) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.007.png)

Создаю директорию newdir с помощью утилиты mkdir, затем проверяю,что директория создалась с помощью ls. (рис.8) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.008.png)

Создаю для каталога newdir подкаталог morefun, проверяю, что каталог собран.(рис.9) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.009.png)

Чтобы создать несколько директорий одной строчкой нужно перечислить названия директорий через пробел после утилиты mkdir. Проверяю, что все файлы созданы. (рис.10) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.010.png)

Чтобы удалить несколько пустых директорий одной строчкой нужно перечислить названия директорий через пробел после утилиты rmdir Проверяю, что все файлы удалены(рис. 11) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.011.png)

Пытаюсь удалить newdir с помощью rm. Утилиты rm по умолчанию удаляет файлы, чтобы она удалила пустую директорию нужно добавить опцию -d, но newdir не пустая директория, поэтому нужно добавить опцию для рекурсивного удаления -r. Использовалась утилита без опций, поэтому каталог не был удален. (рис.12) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.012.png)

Удаляю директорию newdir с помощью утилиты rmdir, т.к директория не пустая, я добавляю флаг удалить рекурсивно -p, чтобы удалить и все подкаталоги.( рис.13) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.013.png)

С помощью команды man ls я могу прочесть документацию к команде ls, опция, которая позволит выводить все подкаталоги каталогов предоставлена на скриншоте, это -R. (рис.14) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.014.png)

Так как мне нужно найти опцию утилиты ls для сортировки,то логично сузить поиск до результатов с таким же вопросом. Выяснил, что для сортировки и вывода информации нужна комбинация опций -it.(рис.15) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.015.jpeg)

С помощью man cd узнаю описание команды cd и её опции. Основных опций немного.(рис.16) 

1\.-P - позволяет следовать по символическим ссылкам перед тем, как обработаны все переходы ‘..’ 2.-L - переходит по символическим ссылкам только после того, как обработаны все переходы “..” 3.-e - позволяет выйти с ошибкой, если диреткория, в которую нужно перейти, не найдена. 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.016.jpeg)

С помощью man pwd узнаю описания команды pwd и её опции(рис.17) 

1\.-L - брать директорию из переменной окружения, даже если она содержит символические ссылки. 2 -P - отбрасывать все символические ссылки. 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.017.jpeg)й 

С помощью man mkdir узнаю описание команды mkdir и её опции (рис.18) 

1\.-m - устанавливает права доступа создаваемой директории как chmod, синтаксис тоже как у chmod. 2.-p - позволяет рекурсивно создавать директории и их подкаталоги 3.-v - выводи сообщение о созданных директориях 4.-z - установить контекст SELinux для создаваемой директории по умолчанию 5.-context - установить контекст SELinux для создаваемой директории в значении CTX 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.018.jpeg)

С помощью man rmdir узнаю описание команды rmdir и её опции(рис.19) 

1\.-ignore-fail-on-non-empty - отменяет вывод ошибки, если каталог не пустой, просто его игнорирует 2.-p - удаляет рекурсивно каталоги, если они все содержат в себе только удаляемый каталог 3.-v - выводит сообщение о каждом удалении директории. 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.019.jpeg)

С помощью man rm узнаю описание команды rm и её опции(рис.20) 

1\.-f - игнорировать несуществующие файлы или аргументы, никогда не выводить запрос на подтверждение удаления 2.-i - выводить запрос на подтверждение удаления каждого файла 3.-I - вывести запрос на подтверждение удаления один раз, для всех файлов, если удаляется больше 3-х файлов или идет рекурсивное удаление 4.– interactive - заменяет предыдущие три опции, можно выбрать одну из них. 5.–one-file- system - во время рекурсивного удаления пропускать директории из других файловых систем 6.–no-preserve-root если в качестве директории задана корневая, то считать что это обычная директория и начать удаление. 7.-r, -R - удаляет директории их содержимое рекурсивно 8.-d, –dir - удаляет пустые директории 9.-v - прописывает все действия команды 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.020.jpeg)

Опции –help –version применимы почти ко всем утилитам, они показывают справку по команде и её версию соответственно. 

Вывел историю команд с помощью утилиты history (рис.21) 

![](Aspose.Words.acf5fe06-65c3-47d1-9880-8ad4f1f3266f.021.png)

<a name="_page7_x82.00_y472.00"></a>**5  Выводы** 

Я приобрел практические навыки взаимодействия пользователя с системой посредством командной строки. 

<a name="_page7_x82.00_y552.00"></a>**6  Ответы на контрольные вопросы** 

1. Командная строка - это текстовая система, которая передает команды компьютеру и возвращает результаты пользователю. В операционной системе типа Linux взаимодействие пользователя с системой обычно осуществляется с помощью командной строки посредством построчного ввода команд. 
1. Для определения абсолютного пути к текущему каталогу используется команда pwd. Например: если я введу pwd в своем домашнем каталоге то получу /home/evdvorkina 
1. С помощью команды ls можно определить имена файлов, при помощи опции -F уже мы сможем определить тип файлов, если нам необходимы скрытые файлы, добавим опцию -a. Пример есть в лабораторной работе. 
4. С помощью команды ls можно определить имена файлов, если нам необходимы скрытые файлы, добавим опцию -a. Пример есть в лабораторной работе. 
4. rmdir по умолчанию удаляет пустые каталоги, не удаляет файлы. rm удаляет файлы, без дополнительных опций (-d, -r) не будет удалять каталоги. Удалить в одной строчке одной командой можно файл и каталог. Если файл находится в каталоге, используем рекурсивное удаление, если файл и каталог не связаны подобным образом, то добавим опцию -d, введя имена через пробел после утилиты. 
4. Вывести информацию о последних выполненных пользователем команд можно с помощью history. Пример приведет в лабораторной работе. 
4. Используем синтаксиси !номеркоманды в выводе history:s/что заменяем/на что заменяем Примеры приведены в лабораторной работе. 
4. Предположим, я нахожусь не в домашнем каталоге. Если я введу “cd ; ls”, то окажусь в домашнем каталоге и получу вывод файлов внутри него. 
4. Символ экранирования - (обратный слеш) добавление перед спецсимволом обратный слеш, чтобы использовать специальный символ как обычный. Также позволяет читать системе название директорий с пробелом. Пример: cd work/Операционные системы/ 
4. Опция -l позволит увидеть дополнительную информацию о файлах в каталоге: время создания, владельца, права доступа 
4. Относительный путь к файлу начинается из той директории, где вы находитесь (она сама не прописывается в пути), он прописывается относительно данной директории. Абсолютный путь начинается с корневого каталога. 
4. Использовать man  или  –help 
4. Клавиша Tab. 
